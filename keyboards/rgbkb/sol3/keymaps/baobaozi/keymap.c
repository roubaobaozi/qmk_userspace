#include QMK_KEYBOARD_H

#include "baobaozi.h"

//enum sol_keycodes {
//    // Disables touch processing
//    TCH_TOG = SAFE_RANGE,
//    MENU_BTN,
//    MENU_UP,
//    MENU_DN,
//    RGB_RST
//};

/* Re-pass though to allow templates to be used */
#define LAYOUT_wrapper(...) LAYOUT(__VA_ARGS__)

const uint16_t PROGMEM keymaps[][MATRIX_ROWS][MATRIX_COLS] = {
//     [_QWERTY] = LAYOUT(
//         QK_GESC,  KC_1,    KC_2,    KC_3,    KC_4,    KC_5,    KC_MINS,                  KC_EQL,  KC_6,    KC_7,    KC_8,    KC_9,    KC_0,    KC_BSPC,
//         KC_TAB,   KC_Q,    KC_W,    KC_E,    KC_R,    KC_T,    KC_LBRC,                  KC_RBRC, KC_Y,    KC_U,    KC_I,    KC_O,    KC_P,    KC_BSLS,
//         FN_CAPS,  KC_A,    KC_S,    KC_D,    KC_F,    KC_G,    KC_LPRN,                  KC_RPRN, KC_H,    KC_J,    KC_K,    KC_L,    KC_SCLN, KC_QUOT,
//         KC_LSFT,  KC_Z,    KC_X,    KC_C,    KC_V,    KC_B,    KC_LCBR,                  KC_RCBR, KC_N,    KC_M,    KC_COMM, KC_DOT,  KC_SLSH, SC_SENT,
//         KC_LCTL,  KC_LGUI, KC_LALT, RGB_TOG, ADJUST,  KC_SPC,  KC_PGDN, KC_DEL, KC_ENT,  KC_PGUP, KC_SPC,  KC_LEFT, KC_DOWN, KC_UP,   KC_RGHT, KC_RCTL,
//
//         KC_VOLD, KC_VOLU, KC_MNXT, KC_MPLY, KC_MPRV,                                                       KC_VOLD, KC_VOLU, KC_MNXT, KC_MPLY, KC_MPRV
//     ),

    [_COLEMAK] = LAYOUT_wrapper(
        // ┌─ Extra ─┬─── Q ───┬─── W ───┬─── F ───┬─── P ───┬─── G ───┬─ Inner ─┐                     ┌─ Inner ─┬─── J ───┬─── L ───┬─── U ───┬─── Y ───┬─── ; ───┬─ Extra ─┐
            KC_ESC   ,_________________ROW_NUMBERS_L___________________,XXXXXXX  ,                      XXXXXXX  ,_________________ROW_NUMBERS_R___________________,KC_MPLY  ,
        // ├─────────┼─────────┼─────────┼─────────┼─────────┼─────────┼─────────┤                     ├─────────┼─────────┼─────────┼─────────┼─────────┼─────────┼─────────┤
            KC_TAB   ,_________________ROW_TOP_COLMK_L_________________,XXXXXXX  ,                      XXXXXXX  ,_________________ROW_TOP_COLMK_R_________________,KC_BSPC  ,
        // ├─────────┼─────────┼─────────┼─────────┼─────────┼─────────┼─────────┤                     ├─────────┼─────────┼─────────┼─────────┼─────────┼─────────┼─────────┤
            KC_GRV   ,_________________ROW_MID_COLMK_L_________________,XXXXXXX  ,                      XXXXXXX  ,_________________ROW_MID_COLMK_R_________________,KC_ENT   ,
        // ├─────────┼─────────┼─────────┼─────────┼─────────┼─────────┼─────────┤                     ├─────────┼─────────┼─────────┼─────────┼─────────┼─────────┼─────────┤
            OS(LSFT) ,_________________ROW_BOT_COLMK_L_________________,XXXXXXX  ,                      XXXXXXX  ,_________________ROW_BOT_COLMK_R_________________,OS(RSFT) ,
        // ├─────────┼─────────┼─────────┼─────────┼─────────┼─────────┼─ Outer ─┼─ Outer ─┐ ┌─ Outer ─┼─ Outer ─┼─────────┼─────────┼─────────┼─────────┼─────────┼─────────┤
            __T_L4___,XXXXXXX  ,XXXXXXX  ,__T_L3___,__T_L2___,__T_L1___,XXXXXXX  ,XXXXXXX  ,  XXXXXXX  ,XXXXXXX  ,__T_R1___,__T_R2___,__T_R2B__,XXXXXXX  ,XXXXXXX  ,__T_R3___,
        // └─────────┴─────────┴─────────┴─────────┴─────────┴─────────┴─────────┴─────────┘ └─────────┴─────────┴─────────┴─────────┴─────────┴─────────┴─────────┴─────────┘

            // touchbar
            //KC_VOLD  ,KC_VOLU  ,KC_VOLD  ,KC_VOLU  ,KC_VOLD  ,KC_VOLU  ,                                          KC_WH_U  ,KC_WH_D  ,KC_WH_U  ,KC_WH_D  ,KC_WH_U  ,KC_WH_D  ,
            KC_VOLD  ,KC_VOLU  ,KC_MNXT  ,KC_MPLY  ,KC_MPRV  ,                                                              KC_WH_U  ,KC_WH_D  ,KC_BTN1  ,KC_BTN3  ,KC_BTN2
    ),

    [_QWERTY] = LAYOUT_wrapper(
        // ┌─ Extra ─┬─── Q ───┬─── W ───┬─── F ───┬─── P ───┬─── G ───┬─ Inner ─┐                     ┌─ Inner ─┬─── J ───┬─── L ───┬─── U ───┬─── Y ───┬─── ; ───┬─ Extra ─┐
            _______  ,_________________ROW_5_TRNSPRNT__________________,_______  ,                      _______  ,_________________ROW_5_TRNSPRNT__________________,_______  ,
        // ├─────────┼─────────┼─────────┼─────────┼─────────┼─────────┼─────────┤                     ├─────────┼─────────┼─────────┼─────────┼─────────┼─────────┼─────────┤
            _______  ,_________________ROW_TOP_QWERT_L_________________,_______  ,                      _______  ,_________________ROW_TOP_QWERT_R_________________,_______  ,
        // ├─────────┼─────────┼─────────┼─────────┼─────────┼─────────┼─────────┤                     ├─────────┼─────────┼─────────┼─────────┼─────────┼─────────┼─────────┤
            _______  ,_________________ROW_MID_QWERT_L_________________,_______  ,                      _______  ,_________________ROW_MID_QWERT_R_________________,_______  ,
        // ├─────────┼─────────┼─────────┼─────────┼─────────┼─────────┼─────────┤                     ├─────────┼─────────┼─────────┼─────────┼─────────┼─────────┼─────────┤
            _______  ,_________________ROW_BOT_QWERT_L_________________,_______  ,                      _______  ,_________________ROW_BOT_QWERT_R_________________,_______  ,
        // ├─────────┼─────────┼─────────┼─────────┼─────────┼─────────┼─ Outer ─┼─ Outer ─┐ ┌─ Outer ─┼─ Outer ─┼─────────┼─────────┼─────────┼─────────┼─────────┼─────────┤
            _______  ,_______  ,_______  ,_______  ,_______  ,_______  ,_______  ,_______  ,  _______  ,_______  ,_______  ,_______  ,_______  ,_______  ,_______  ,_______  ,
        // └─────────┴─────────┴─────────┴─────────┴─────────┴─────────┴─────────┴─────────┘ └─────────┴─────────┴─────────┴─────────┴─────────┴─────────┴─────────┴─────────┘

            // touchbar
            //_______  ,_______  ,_______  ,_______  ,_______  ,_______  ,                                          _______  ,_______  ,_______  ,_______  ,_______  ,_______  ,
            _______  ,_______  ,_______  ,_______  ,_______  ,                                                              _______  ,_______  ,_______  ,_______  ,_______
    ),

    [_NAV] = LAYOUT_wrapper(
        // ┌─ Extra ─┬─── Q ───┬─── W ───┬─── F ───┬─── P ───┬─── G ───┬─ Inner ─┐                     ┌─ Inner ─┬─── J ───┬─── L ───┬─── U ───┬─── Y ───┬─── ; ───┬─ Extra ─┐
            _______  ,_________________ROW_5_TRNSPRNT__________________,_______  ,                      _______  ,_________________ROW_5_TRNSPRNT__________________,_______  ,
        // ├─────────┼─────────┼─────────┼─────────┼─────────┼─────────┼─────────┤                     ├─────────┼─────────┼─────────┼─────────┼─────────┼─────────┼─────────┤
            _______  ,_________________ROW_TOP_NAV_L___________________,_______  ,                      _______  ,_________________ROW_TOP_NAV_R___________________,_______  ,
        // ├─────────┼─────────┼─────────┼─────────┼─────────┼─────────┼─────────┤                     ├─────────┼─────────┼─────────┼─────────┼─────────┼─────────┼─────────┤
            _______  ,_________________ROW_MID_NAV_L___________________,_______  ,                      _______  ,_________________ROW_MID_NAV_R___________________,_______  ,
        // ├─────────┼─────────┼─────────┼─────────┼─────────┼─────────┼─────────┤                     ├─────────┼─────────┼─────────┼─────────┼─────────┼─────────┼─────────┤
            _______  ,_________________ROW_BOT_NAV_L___________________,_______  ,                      _______  ,_________________ROW_BOT_NAV_R___________________,_______  ,
        // ├─────────┼─────────┼─────────┼─────────┼─────────┼─────────┼─ Outer ─┼─ Outer ─┐ ┌─ Outer ─┼─ Outer ─┼─────────┼─────────┼─────────┼─────────┼─────────┼─────────┤
            _______  ,_______  ,_______  ,_______  ,_______  ,_______  ,_______  ,_______  ,  _______  ,_______  ,_______  ,_______  ,_______  ,_______  ,_______  ,_______  ,
        // └─────────┴─────────┴─────────┴─────────┴─────────┴─────────┴─────────┴─────────┘ └─────────┴─────────┴─────────┴─────────┴─────────┴─────────┴─────────┴─────────┘

            // touchbar
            //_______  ,_______  ,_______  ,_______  ,_______  ,_______  ,                                          _______  ,_______  ,_______  ,_______  ,_______  ,_______  ,
            _______  ,_______  ,_______  ,_______  ,_______  ,                                                              _______  ,_______  ,_______  ,_______  ,_______
    ),

#if defined(TEST_SYN)
    [_SYN] = LAYOUT_wrapper(
        // ┌─ Extra ─┬─── Q ───┬─── W ───┬─── F ───┬─── P ───┬─── G ───┬─ Inner ─┐                     ┌─ Inner ─┬─── J ───┬─── L ───┬─── U ───┬─── Y ───┬─── ; ───┬─ Extra ─┐
            _______  ,_________________ROW_5_TRNSPRNT__________________,_______  ,                      _______  ,_________________ROW_5_TRNSPRNT__________________,_______  ,
        // ├─────────┼─────────┼─────────┼─────────┼─────────┼─────────┼─────────┤                     ├─────────┼─────────┼─────────┼─────────┼─────────┼─────────┼─────────┤
            _______  ,_________________ROW_TOP_SYN_L___________________,_______  ,                      _______  ,_________________ROW_TOP_SYN_R___________________,_______  ,
        // ├─────────┼─────────┼─────────┼─────────┼─────────┼─────────┼─────────┤                     ├─────────┼─────────┼─────────┼─────────┼─────────┼─────────┼─────────┤
            _______  ,_________________ROW_MID_SYN_L___________________,_______  ,                      _______  ,_________________ROW_MID_SYN_R___________________,_______  ,
        // ├─────────┼─────────┼─────────┼─────────┼─────────┼─────────┼─────────┤                     ├─────────┼─────────┼─────────┼─────────┼─────────┼─────────┼─────────┤
            _______  ,_________________ROW_BOT_SYN_L___________________,_______  ,                      _______  ,_________________ROW_BOT_SYN_R___________________,_______  ,
        // ├─────────┼─────────┼─────────┼─────────┼─────────┼─────────┼─ Outer ─┼─ Outer ─┐ ┌─ Outer ─┼─ Outer ─┼─────────┼─────────┼─────────┼─────────┼─────────┼─────────┤
            _______  ,_______  ,_______  ,_______  ,_______  ,_______  ,_______  ,_______  ,  _______  ,_______  ,_______  ,_______  ,_______  ,_______  ,_______  ,_______  ,
        // └─────────┴─────────┴─────────┴─────────┴─────────┴─────────┴─────────┴─────────┘ └─────────┴─────────┴─────────┴─────────┴─────────┴─────────┴─────────┴─────────┘

            // touchbar
            //_______  ,_______  ,_______  ,_______  ,_______  ,_______  ,                                          _______  ,_______  ,_______  ,_______  ,_______  ,_______  ,
            _______  ,_______  ,_______  ,_______  ,_______  ,                                                              _______  ,_______  ,_______  ,_______  ,_______
    ),
#else
    [_SYM] = LAYOUT_wrapper(
        // ┌─ Extra ─┬─── Q ───┬─── W ───┬─── F ───┬─── P ───┬─── G ───┬─ Inner ─┐                     ┌─ Inner ─┬─── J ───┬─── L ───┬─── U ───┬─── Y ───┬─── ; ───┬─ Extra ─┐
            _______  ,_________________ROW_5_TRNSPRNT__________________,_______  ,                      _______  ,_________________ROW_5_TRNSPRNT__________________,_______  ,
        // ├─────────┼─────────┼─────────┼─────────┼─────────┼─────────┼─────────┤                     ├─────────┼─────────┼─────────┼─────────┼─────────┼─────────┼─────────┤
            _______  ,_________________ROW_TOP_SYM_L___________________,_______  ,                      _______  ,_________________ROW_TOP_SYM_R___________________,_______  ,
        // ├─────────┼─────────┼─────────┼─────────┼─────────┼─────────┼─────────┤                     ├─────────┼─────────┼─────────┼─────────┼─────────┼─────────┼─────────┤
            _______  ,_________________ROW_MID_SYM_L___________________,_______  ,                      _______  ,_________________ROW_MID_SYM_R___________________,_______  ,
        // ├─────────┼─────────┼─────────┼─────────┼─────────┼─────────┼─────────┤                     ├─────────┼─────────┼─────────┼─────────┼─────────┼─────────┼─────────┤
            _______  ,_________________ROW_BOT_SYM_L___________________,_______  ,                      _______  ,_________________ROW_BOT_SYM_R___________________,_______  ,
        // ├─────────┼─────────┼─────────┼─────────┼─────────┼─────────┼─ Outer ─┼─ Outer ─┐ ┌─ Outer ─┼─ Outer ─┼─────────┼─────────┼─────────┼─────────┼─────────┼─────────┤
            _______  ,_______  ,_______  ,_______  ,_______  ,_______  ,_______  ,_______  ,  _______  ,_______  ,_______  ,_______  ,_______  ,_______  ,_______  ,_______  ,
        // └─────────┴─────────┴─────────┴─────────┴─────────┴─────────┴─────────┴─────────┘ └─────────┴─────────┴─────────┴─────────┴─────────┴─────────┴─────────┴─────────┘

            // touchbar
            //_______  ,_______  ,_______  ,_______  ,_______  ,_______  ,                                          _______  ,_______  ,_______  ,_______  ,_______  ,_______  ,
            _______  ,_______  ,_______  ,_______  ,_______  ,                                                              _______  ,_______  ,_______  ,_______  ,_______
    ),

    [_NUM] = LAYOUT_wrapper(
        // ┌─ Extra ─┬─── Q ───┬─── W ───┬─── F ───┬─── P ───┬─── G ───┬─ Inner ─┐                     ┌─ Inner ─┬─── J ───┬─── L ───┬─── U ───┬─── Y ───┬─── ; ───┬─ Extra ─┐
            _______  ,_________________ROW_5_TRNSPRNT__________________,_______  ,                      _______  ,_________________ROW_5_TRNSPRNT__________________,_______  ,
        // ├─────────┼─────────┼─────────┼─────────┼─────────┼─────────┼─────────┤                     ├─────────┼─────────┼─────────┼─────────┼─────────┼─────────┼─────────┤
            _______  ,_________________ROW_TOP_NUM_L___________________,_______  ,                      _______  ,_________________ROW_TOP_NUM_R___________________,_______  ,
        // ├─────────┼─────────┼─────────┼─────────┼─────────┼─────────┼─────────┤                     ├─────────┼─────────┼─────────┼─────────┼─────────┼─────────┼─────────┤
            _______  ,_________________ROW_MID_NUM_L___________________,_______  ,                      _______  ,_________________ROW_MID_NUM_R___________________,_______  ,
        // ├─────────┼─────────┼─────────┼─────────┼─────────┼─────────┼─────────┤                     ├─────────┼─────────┼─────────┼─────────┼─────────┼─────────┼─────────┤
            _______  ,_________________ROW_BOT_NUM_L___________________,_______  ,                      _______  ,_________________ROW_BOT_NUM_R___________________,_______  ,
        // ├─────────┼─────────┼─────────┼─────────┼─────────┼─────────┼─ Outer ─┼─ Outer ─┐ ┌─ Outer ─┼─ Outer ─┼─────────┼─────────┼─────────┼─────────┼─────────┼─────────┤
            _______  ,_______  ,_______  ,_______  ,_______  ,_______  ,_______  ,_______  ,  _______  ,_______  ,_______  ,_______  ,_______  ,_______  ,_______  ,_______  ,
        // └─────────┴─────────┴─────────┴─────────┴─────────┴─────────┴─────────┴─────────┘ └─────────┴─────────┴─────────┴─────────┴─────────┴─────────┴─────────┴─────────┘

            // touchbar
            //_______  ,_______  ,_______  ,_______  ,_______  ,_______  ,                                          _______  ,_______  ,_______  ,_______  ,_______  ,_______  ,
            _______  ,_______  ,_______  ,_______  ,_______  ,                                                              _______  ,_______  ,_______  ,_______  ,_______
    ),
#endif

    [_CUR] = LAYOUT_wrapper(
        // ┌─ Extra ─┬─── Q ───┬─── W ───┬─── F ───┬─── P ───┬─── G ───┬─ Inner ─┐                     ┌─ Inner ─┬─── J ───┬─── L ───┬─── U ───┬─── Y ───┬─── ; ───┬─ Extra ─┐
            _______  ,_________________ROW_5_TRNSPRNT__________________,_______  ,                      _______  ,_________________ROW_5_TRNSPRNT__________________,_______  ,
        // ├─────────┼─────────┼─────────┼─────────┼─────────┼─────────┼─────────┤                     ├─────────┼─────────┼─────────┼─────────┼─────────┼─────────┼─────────┤
            _______  ,_________________ROW_TOP_CUR_L___________________,_______  ,                      _______  ,_________________ROW_TOP_CUR_R___________________,_______  ,
        // ├─────────┼─────────┼─────────┼─────────┼─────────┼─────────┼─────────┤                     ├─────────┼─────────┼─────────┼─────────┼─────────┼─────────┼─────────┤
            _______  ,_________________ROW_MID_CUR_L___________________,_______  ,                      _______  ,_________________ROW_MID_CUR_R___________________,_______  ,
        // ├─────────┼─────────┼─────────┼─────────┼─────────┼─────────┼─────────┤                     ├─────────┼─────────┼─────────┼─────────┼─────────┼─────────┼─────────┤
            _______  ,_________________ROW_BOT_CUR_L___________________,_______  ,                      _______  ,_________________ROW_BOT_CUR_R___________________,_______  ,
        // ├─────────┼─────────┼─────────┼─────────┼─────────┼─────────┼─ Outer ─┼─ Outer ─┐ ┌─ Outer ─┼─ Outer ─┼─────────┼─────────┼─────────┼─────────┼─────────┼─────────┤
            _______  ,_______  ,_______  ,_______  ,_______  ,_______  ,_______  ,_______  ,  _______  ,_______  ,_______  ,_______  ,_______  ,_______  ,_______  ,_______  ,
        // └─────────┴─────────┴─────────┴─────────┴─────────┴─────────┴─────────┴─────────┘ └─────────┴─────────┴─────────┴─────────┴─────────┴─────────┴─────────┴─────────┘

            // touchbar
            //_______  ,_______  ,_______  ,_______  ,_______  ,_______  ,                                          _______  ,_______  ,_______  ,_______  ,_______  ,_______  ,
            _______  ,_______  ,_______  ,_______  ,_______  ,                                                              _______  ,_______  ,_______  ,_______  ,_______
    ),

    [_FNC] = LAYOUT_wrapper(
        // ┌─ Extra ─┬─── Q ───┬─── W ───┬─── F ───┬─── P ───┬─── G ───┬─ Inner ─┐                     ┌─ Inner ─┬─── J ───┬─── L ───┬─── U ───┬─── Y ───┬─── ; ───┬─ Extra ─┐
            _______  ,_________________ROW_5_TRNSPRNT__________________,_______  ,                      _______  ,_________________ROW_5_TRNSPRNT__________________,_______  ,
        // ├─────────┼─────────┼─────────┼─────────┼─────────┼─────────┼─────────┤                     ├─────────┼─────────┼─────────┼─────────┼─────────┼─────────┼─────────┤
            _______  ,_________________ROW_TOP_FNC_L___________________,_______  ,                      _______  ,_________________ROW_TOP_FNC_R___________________,_______  ,
        // ├─────────┼─────────┼─────────┼─────────┼─────────┼─────────┼─────────┤                     ├─────────┼─────────┼─────────┼─────────┼─────────┼─────────┼─────────┤
            _______  ,_________________ROW_MID_FNC_L___________________,_______  ,                      _______  ,_________________ROW_MID_FNC_R___________________,_______  ,
        // ├─────────┼─────────┼─────────┼─────────┼─────────┼─────────┼─────────┤                     ├─────────┼─────────┼─────────┼─────────┼─────────┼─────────┼─────────┤
            _______  ,_________________ROW_BOT_FNC_L___________________,_______  ,                      _______  ,_________________ROW_BOT_FNC_R___________________,_______  ,
        // ├─────────┼─────────┼─────────┼─────────┼─────────┼─────────┼─ Outer ─┼─ Outer ─┐ ┌─ Outer ─┼─ Outer ─┼─────────┼─────────┼─────────┼─────────┼─────────┼─────────┤
            _______  ,_______  ,_______  ,_______  ,_______  ,_______  ,_______  ,_______  ,  _______  ,_______  ,_______  ,_______  ,_______  ,_______  ,_______  ,_______  ,
        // └─────────┴─────────┴─────────┴─────────┴─────────┴─────────┴─────────┴─────────┘ └─────────┴─────────┴─────────┴─────────┴─────────┴─────────┴─────────┴─────────┘

            // touchbar
            //_______  ,_______  ,_______  ,_______  ,_______  ,_______  ,                                          _______  ,_______  ,_______  ,_______  ,_______  ,_______  ,
            _______  ,_______  ,_______  ,_______  ,_______  ,                                                              _______  ,_______  ,_______  ,_______  ,_______
    ),

    [_KB] = LAYOUT_wrapper(
        // ┌─ Extra ─┬─── Q ───┬─── W ───┬─── F ───┬─── P ───┬─── G ───┬─ Inner ─┐                     ┌─ Inner ─┬─── J ───┬─── L ───┬─── U ───┬─── Y ───┬─── ; ───┬─ Extra ─┐
            //_______  ,_________________ROW_5_TRNSPRNT__________________,_______  ,                      _______  ,_______  ,MENU_BTN ,MENU_UP  ,MENU_DN  ,RGB_RST  ,TCH_TOG  ,
            _______  ,_________________ROW_5_TRNSPRNT__________________,_______  ,                      _______  ,_________________ROW_5_TRNSPRNT__________________,_______  ,
        // ├─────────┼─────────┼─────────┼─────────┼─────────┼─────────┼─────────┤                     ├─────────┼─────────┼─────────┼─────────┼─────────┼─────────┼─────────┤
            _______  ,_________________ROW_TOP_KB_L____________________,_______  ,                      _______  ,_________________ROW_TOP_KB_R____________________,_______  ,
        // ├─────────┼─────────┼─────────┼─────────┼─────────┼─────────┼─────────┤                     ├─────────┼─────────┼─────────┼─────────┼─────────┼─────────┼─────────┤
            _______  ,_________________ROW_MID_KB_L____________________,_______  ,                      _______  ,_________________ROW_MID_KB_R____________________,_______  ,
        // ├─────────┼─────────┼─────────┼─────────┼─────────┼─────────┼─────────┤                     ├─────────┼─────────┼─────────┼─────────┼─────────┼─────────┼─────────┤
            _______  ,_________________ROW_BOT_KB_L____________________,_______  ,                      _______  ,_________________ROW_BOT_KB_R____________________,_______  ,
        // ├─────────┼─────────┼─────────┼─────────┼─────────┼─────────┼─ Outer ─┼─ Outer ─┐ ┌─ Outer ─┼─ Outer ─┼─────────┼─────────┼─────────┼─────────┼─────────┼─────────┤
            _______  ,_______  ,_______  ,_______  ,_______  ,_______  ,_______  ,_______  ,  _______  ,_______  ,_______  ,_______  ,_______  ,_______  ,_______  ,_______  ,
        // └─────────┴─────────┴─────────┴─────────┴─────────┴─────────┴─────────┴─────────┘ └─────────┴─────────┴─────────┴─────────┴─────────┴─────────┴─────────┴─────────┘

            // touchbar
            //_______  ,_______  ,_______  ,_______  ,_______  ,_______  ,                                          _______  ,_______  ,_______  ,_______  ,_______  ,_______  ,
            _______  ,_______  ,_______  ,_______  ,_______  ,                                                              _______  ,_______  ,_______  ,_______  ,_______
    ),
};

#if defined(OLED_ENABLE)
#include <stdio.h>
static uint32_t oled_timer = 0;

oled_rotation_t oled_init_user(oled_rotation_t rotation) {
    if (is_keyboard_master()) {
        return OLED_ROTATION_270;
    } else {
        return OLED_ROTATION_180;
    }
}

void render_mod_status(uint8_t modifiers) {
    led_t led_state = host_keyboard_led_state();

    oled_write_P(modifiers & MOD_MASK_GUI ? PSTR(">cmd\n\n") : PSTR(" cmd\n\n"), false);
    oled_write_P(modifiers & MOD_MASK_ALT ? PSTR(">opt\n\n") : PSTR(" opt\n\n"), false);
    oled_write_P(modifiers & MOD_MASK_CTRL ? PSTR(">ctl\n\n") : PSTR(" ctl\n\n"), false);
    oled_write_P(modifiers & MOD_MASK_SHIFT ? PSTR(">sft\n\n") : PSTR(" sft\n\n"), false);
    oled_write_P(led_state.caps_lock ? PSTR(">cap\n") : PSTR(" cap\n"), false);
}

void render_layer_state(void) {
    if (get_highest_layer(layer_state) == _FNC) {
        // You also have access to a `default_layer_state` for when you DF … so you can tell difference between which default layer you’re on
        oled_write_P(PSTR("\n FNC\n F12\n"), false);
    } else if (get_highest_layer(layer_state) == _KB) {
        oled_write_P(PSTR("\n KB\n act\n"), false);
    } else if (get_highest_layer(layer_state) == _CUR) {
        oled_write_P(PSTR("\n CUR\n sor\n"), false);
#if defined(TEST_SYN)
    } else if (get_highest_layer(layer_state) == _SYN) {
        oled_write_P(PSTR("\n SYN\n 1@3\n"), false);
#else
    } else if (get_highest_layer(layer_state) == _SYM) {
        oled_write_P(PSTR("\n SYM\n !@#\n"), false);
    } else if (get_highest_layer(layer_state) == _NUM) {
        oled_write_P(PSTR("\n NUM\n 123\n"), false);
#endif
    } else if (get_highest_layer(layer_state) == _NAV) {
        oled_write_P(PSTR("\n NAV\n mov\n"), false);
    } else if (get_highest_layer(layer_state) == _QWERTY) {
        oled_write_P(PSTR("\n QWE\n sux\n"), false);
    } else {
        oled_write_P(PSTR("\n CMK\n yay\n"), false);
    }
}

void render_status_main(void) {
    render_layer_state();
    oled_write_P(PSTR(" --- \n"), false);
    render_mod_status(get_mods()|get_oneshot_mods());
}

bool oled_task_user(void) {
// void oled_task_user(void) {
    if (timer_elapsed32(oled_timer) > 60000) { // turn off OLED due to inactivity, to preserve OLED life. also turn off RGB.
        rgb_matrix_disable_noeeprom();

        if (is_keyboard_master()) {
            oled_off();
        }
    } else {
        rgb_matrix_enable_noeeprom();

        if (is_keyboard_master()) {
            oled_on();
            render_status_main();  // Renders the current keyboard state (layer, lock, caps, scroll, etc)
        } else {
            oled_write_P(PSTR("QMK is a pathway to\nmany abilities some\nconsider to be ...\nunnatural\n"), false);
            // oled_scroll_left();
        }
    }

    return false;
}
#endif

//bool process_record_keymap(uint16_t keycode, keyrecord_t *record) {
//    switch (keycode)
//    {
//        case MENU_BTN:
//            if (record->event.pressed) {
//                rgb_menu_selection();
//            }
//            return false;
//        case MENU_UP:
//            if (record->event.pressed) {
//                rgb_menu_action(true);
//            }
//            return false;
//        case MENU_DN:
//            if (record->event.pressed) {
//                rgb_menu_action(false);
//            }
//            return false;
//        case RGB_RST:
//            if (record->event.pressed) {
//                eeconfig_update_rgb_matrix_default();
//            }
//            return false;
//        case TCH_TOG:
//            if (record->event.pressed) {
//                touch_encoder_toggle();
//            }
//            return false;  // Skip all further processing of this key
//        default:
//            return true;
//    }
//}
